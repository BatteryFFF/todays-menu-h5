<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- å­—ä½“ï¼Œå¯é€‰ -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Kite+One&display=swap"
      rel="stylesheet"
    />

    <style>
      /* å…¨å±€ reset & å±…ä¸­ç”»å¸ƒ */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        -webkit-font-smoothing: antialiased;
      }

      body {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        background: #000;
        font-family: "Kite One", sans-serif;
      }

      /* ======= SEAFOOD PAGE ======= */
      .seafood-menu,
      .seafood-menu * {
        box-sizing: border-box;
      }

      .seafood-menu {
        background: #ffe5ec;
        height: 956px;
        width: 440px;
        position: relative;
        overflow: hidden;
      }

      /* NEXT æŒ‰é’® */
      .seafood-menu .button-next {
        width: 93px;
        height: 48px;
        position: absolute;
        left: 308px;
        top: 859px;
        z-index: 50;
      }

      .seafood-menu .button-next-1 {
        width: 100%;
        height: 100%;
        position: absolute;
        left: 0px;
        top: 0px;
        object-fit: cover;
        aspect-ratio: 93 / 48;
      }

      /* å…¬å…±ï¼šæ ‡ç­¾å›¾ç‰‡å¡«æ»¡å„è‡ª frame */
      .frame-label {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: contain;
        pointer-events: none; /* âœ… è®©ç‚¹å‡»è½åœ¨å¤–å±‚ tag ä¸Š */
      }

      /* æ‰€æœ‰ frame å»æ‰èƒŒæ™¯å’Œè¾¹æ¡†ï¼Œåªä¿ç•™ä½ç½®/å°ºå¯¸ */
      .frame-25,
      .frame-21,
      .frame-22,
      .frame-23,
      .frame-24,
      .frame-10,
      .frame-18,
      .frame-19,
      .frame-20,
      .frame-6 {
        background: transparent;
        border: none;
        overflow: visible;
        position: absolute;
      }

      .frame-25 {
        width: 92px;
        height: 37px;
        left: calc(50% - 163px);
        top: calc(50% - -351px);
      }
      .frame-21 {
        width: 92px;
        height: 37px;
        left: calc(50% - 162px);
        top: calc(50% - 251px);
      }
      .frame-22 {
        width: 113px;
        height: 40px;
        left: calc(50% - 141px);
        top: calc(50% - -168px);
      }
      .frame-23 {
        width: 113px;
        height: 40px;
        left: calc(50% - 178px);
        top: calc(50% - -229px);
      }
      .frame-24 {
        width: 113px;
        height: 40px;
        left: calc(50% - 138px);
        top: calc(50% - -290px);
      }
      .frame-10 {
        width: 113px;
        height: 40px;
        left: calc(50% - -56px);
        top: calc(50% - 137px);
      }
      .frame-18 {
        width: 97px;
        height: 40px;
        left: calc(50% - -63px);
        top: calc(50% - 212px);
      }
      .frame-19 {
        width: 97px;
        height: 40px;
        left: calc(50% - -56px);
        top: calc(50% - -33px);
      }
      .frame-20 {
        width: 97px;
        height: 40px;
        left: calc(50% - -84px);
        top: calc(50% - 52px);
      }
      .frame-6 {
        width: 141px;
        height: 40px;
        left: calc(50% - 166px);
        top: calc(50% - 177px);
      }

      /* âœ… äº¤äº’ï¼šå¯ç‚¹èœé¡¹ï¼ˆä¸å½±å“å®šä½ï¼‰ */
      .tag {
        cursor: pointer;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
        z-index: 40; /* âœ… æ¯”æ³¡æ³¡æ›´é«˜ */
        transition: transform 120ms ease, filter 120ms ease;
      }

      /* âœ… é€‰ä¸­æ€ï¼šåœç•™ */
      .tag.selected {
        transform: translateY(-2px);
        filter: drop-shadow(0 1px 0 rgba(0, 0, 0, 0.32));
      }

      .tag:not(.selected):active {
        transform: translateY(1px);
        filter: drop-shadow(0 0px 0 rgba(173, 171, 171, 0.22));
      }

      .tag.selected:active {
        transform: translateY(-1px);
        filter: drop-shadow(0 2px 0 rgba(0, 0, 0, 0.28));
      }

      /* æ³¡æ³¡æ ·å¼ + åŠ¨ç”»ï¼ˆâœ… ä¸åƒç‚¹å‡» + åœ¨åº•å±‚ï¼‰ */
      .ellipse-51,
      .ellipse-52,
      .ellipse-53,
      .ellipse-54,
      .ellipse-55 {
        background: radial-gradient(
          closest-side,
          rgba(217, 217, 217, 0) 0%,
          rgba(222, 247, 255, 1) 100%
        );
        border-radius: 50%;
        position: absolute;
        animation: bubbleFloat 5s ease-in-out infinite;
        pointer-events: none; /* âœ… å…³é”®ï¼šæ°¸è¿œç‚¹å¾—åˆ°æ ‡ç­¾ */
        z-index: 1; /* âœ… æ”¾åº•å±‚ */
      }

      .ellipse-55 {
        width: 142px;
        height: 142px;
        left: -38px;
        top: 694px;
        animation-duration: 6s;
        animation-delay: 0.2s;
      }
      .ellipse-51 {
        width: 172px;
        height: 172px;
        left: 283px;
        top: 69px;
        animation-duration: 7s;
        animation-delay: 0.8s;
      }
      .ellipse-52 {
        width: 46px;
        height: 46px;
        left: 161px;
        top: 260px;
        animation-duration: 4.5s;
        animation-delay: 0.4s;
      }
      .ellipse-53 {
        width: 46px;
        height: 46px;
        left: 195px;
        top: 813px;
        animation-duration: 5.5s;
        animation-delay: 1s;
      }
      .ellipse-54 {
        width: 80px;
        height: 80px;
        left: 228px;
        top: 538px;
        animation-duration: 6.5s;
        animation-delay: 0.6s;
      }

      @keyframes bubbleFloat {
        0% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-50px);
        }
        100% {
          transform: translateY(0);
        }
      }

      /* å…¶ä»–å›¾ç‰‡ï¼šè™¾ã€é±¼ã€æ ‡é¢˜ï¼ˆåœ¨æ ‡ç­¾ä¸‹å±‚ or ä¸Šå±‚éƒ½è¡Œï¼Œä½ ç°åœ¨æ”¾ä¸‹å±‚æ›´å®‰å…¨ï¼‰ */
      .shrimp-2 {
        width: 464px;
        height: 325px;
        position: absolute;
        left: -107px;
        top: 331px;
        object-fit: cover;
        aspect-ratio: 464 / 325;
        z-index: 2;
        pointer-events: none;
      }

      .fish-2 {
        width: 354px;
        height: 248px;
        position: absolute;
        left: 161px;
        top: 611px;
        object-fit: cover;
        aspect-ratio: 354 / 248;
        z-index: 2;
        pointer-events: none;
      }

      .seafood-title-1 {
        width: 338px;
        height: 147.5px;
        position: absolute;
        left: 42px;
        top: 34px;
        object-fit: cover;
        aspect-ratio: 338 / 147.5;
        z-index: 2;
        pointer-events: none;
      }
    </style>
  </head>

  <body>
    <div class="seafood-menu">
      <!-- NEXT -->
      <a href="vegetables.html" class="button-next">
        <img class="button-next-1" src="images_2/button-next.png" alt="Next" />
      </a>

      <!-- âœ… æ ‡ç­¾ï¼šåŠ  tag + data-value -->
      <div class="frame-25 tag" data-value="æ¸…è’¸é±¼">
        <img class="frame-label" src="images_5/Frame 25.svg" alt="æ¸…è’¸é±¼" />
      </div>

      <div class="frame-21 tag" data-value="å•¤é…’é¸­">
        <img class="frame-label" src="images_5/Frame 21.svg" alt="å•¤é…’é¸­" />
      </div>

      <div class="frame-22 tag" data-value="éº»è¾£æ°´ç…®é±¼">
        <img class="frame-label" src="images_5/Frame 22.svg" alt="éº»è¾£æ°´ç…®é±¼" />
      </div>

      <div class="frame-23 tag" data-value="è—¤æ¤’æ°´ç…®é±¼">
        <img class="frame-label" src="images_5/Frame 23.svg" alt="è—¤æ¤’æ°´ç…®é±¼" />
      </div>

      <div class="frame-24 tag" data-value="é…¸èœæ°´ç…®é±¼">
        <img class="frame-label" src="images_5/Frame 24.svg" alt="é…¸èœæ°´ç…®é±¼" />
      </div>

      <div class="frame-10 tag" data-value="é¦™è¾£é±¿é±¼ä¸">
        <img class="frame-label" src="images_5/Frame 10.svg" alt="é¦™è¾£é±¿é±¼ä¸" />
      </div>

      <div class="frame-18 tag" data-value="çˆ†ç‚’è›¤èœŠ">
        <img class="frame-label" src="images_5/Frame 18.svg" alt="çˆ†ç‚’è›¤èœŠ" />
      </div>

      <div class="frame-19 tag" data-value="æ²¹ç„–å¤§è™¾">
        <img class="frame-label" src="images_5/Frame 19.svg" alt="æ²¹ç„–å¤§è™¾" />
      </div>

      <div class="frame-20 tag" data-value="æ²¹çˆ†æ²³è™¾">
        <img class="frame-label" src="images_5/Frame 20.svg" alt="æ²¹çˆ†æ²³è™¾" />
      </div>

      <div class="frame-6 tag" data-value="é…¸èåœè€é¸­æ±¤">
        <img
          class="frame-label"
          src="images_5/Frame 6.svg"
          alt="é…¸èåœè€é¸­æ±¤"
        />
      </div>

      <!-- æ³¡æ³¡ï¼ˆä¸åƒç‚¹å‡»ï¼‰ -->
      <div class="ellipse-55"></div>
      <div class="ellipse-51"></div>
      <div class="ellipse-52"></div>
      <div class="ellipse-53"></div>
      <div class="ellipse-54"></div>

      <!-- æ’ç”» -->
      <img class="shrimp-2" src="images_5/shrimp.png" alt="Shrimp" />
      <img class="fish-2" src="images_5/fish.png" alt="Fish" />
      <img
        class="seafood-title-1"
        src="images_5/seafood-title.png"
        alt="Seafood Title"
      />
    </div>

    <script>
      // âœ… æœ¬é¡µå¤šé€‰å­˜å‚¨ key
      const PAGE_KEY = "todaymenu_seafood";
      // âœ… å…¨å±€é€‰æ‹©é¡ºåºï¼ˆç”¨äºæœ€åä¸€é¡µæŒ‰é¡ºåºæµ®ç°ï¼‰
      const ORDER_KEY = "todaymenu_order";

      function readJson(key, fallback) {
        try {
          const v = localStorage.getItem(key);
          return v ? JSON.parse(v) : fallback;
        } catch (e) {
          return fallback;
        }
      }

      function writeJson(key, value) {
        localStorage.setItem(key, JSON.stringify(value));
      }

      // 1) æ¢å¤æœ¬é¡µå·²é€‰
      const savedList = readJson(PAGE_KEY, []);
      const savedSet = new Set(savedList);

      document.querySelectorAll(".tag").forEach((tag) => {
        const val = tag.dataset.value;
        if (savedSet.has(val)) tag.classList.add("selected");
      });

      // 2) ç‚¹å‡»åˆ‡æ¢ï¼šå¤šé€‰ + è®°å½•é¡ºåº
      document.querySelectorAll(".tag").forEach((tag) => {
        tag.addEventListener("click", () => {
          const val = tag.dataset.value;

          const list = readJson(PAGE_KEY, []);
          const set = new Set(list);
          const order = readJson(ORDER_KEY, []);

          const willSelect = !tag.classList.contains("selected");

          if (willSelect) {
            tag.classList.add("selected");
            set.add(val);

            if (!order.includes(val)) {
              order.push(val);
              writeJson(ORDER_KEY, order);
            }
          } else {
            tag.classList.remove("selected");
            set.delete(val);

            // ä»å…¨å±€é¡ºåºé‡Œç§»é™¤ï¼ˆé¿å…æœ€åé¡µå‡ºç°å·²å–æ¶ˆçš„ï¼‰
            writeJson(
              ORDER_KEY,
              order.filter((x) => x !== val)
            );
          }

          writeJson(PAGE_KEY, Array.from(set));

          // ğŸ”§ è°ƒè¯•ï¼šä½ æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°å°±èƒ½çœ‹åˆ°
          console.log("click:", val, "selected:", willSelect);
          console.log("PAGE_KEY:", readJson(PAGE_KEY, []));
          console.log("ORDER_KEY:", readJson(ORDER_KEY, []));
        });
      });
    </script>
  </body>
</html>
